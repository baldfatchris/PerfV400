@model PerfV400.Models.Performance

<div id="@string.Format("DeletePerformance{0}", Model.Performance_Id)"> 

    <fieldset>
        <legend>Performance</legend>

@if (ViewBag.UserCanEditEvent){
        <ul class="toolbar">
            <li class="edit">@Html.ActionLink("Edit Performance Details", "EditPerformance", new { id = Model.Performance_Id }, htmlAttributes: new { @class = "editLink", data_dialog_title = "Edit Performance Details" })</li>
            <li class="delete">@Html.ActionLink("Delete Performance", "DeletePerformance", new { id = Model.Performance_Id }, htmlAttributes: new { @class = "deleteLink", data_dialog_title = "Delete Performance" })</li>
        </ul>
}

        <div id="@string.Format("PerformanceDetails{0}", Model.Performance_Id)"> 
            @Html.Partial("DetailsPerformance", Model)
        </div>

        <br/><br/><br/><br/>
        
        <fieldset>
            <legend>Cast &amp; Crew</legend>

                @if (ViewBag.UserCanEditEvent){
                <ul class="toolbar">
                    <li class="add">@Html.ActionLink("Add New Person", "NewPerformanceArtist", new { PerformanceId = Model.Performance_Id }, htmlAttributes: new { @class = "createLink", data_dialog_title = "Add New Person" })</li>

                    <li class="add">@Html.ActionLink("I'm in this", "ImInThis", new { PerformanceId = Model.Performance_Id }, htmlAttributes: new { @class = "createLink", data_dialog_title = "I'm in this!" })</li>

                </ul>
                }
    
                @foreach (PerfV400.Models.PerformanceArtist performanceArtist in Model.PerformanceArtists.OrderBy(pa => pa.Role.Role_Rank))
                {
                    @Html.Partial("PerformanceArtist", performanceArtist)
                }

            
                <div id="@string.Format("NewPerformanceArtistDetails{0}", Model.Performance_Id)" /> 


        </fieldset>
    </fieldset>

</div>
 


